{%extends 'base.html'%}

{%block title%}
    {{super()}} - Dashboard
{%endblock%}

{%block content%}
    <section class="flex_column" style="width: 100%; height: 100%;">
        <article id="games_container" class="flex_cell flex_column">
            <section class="frame small_header">
                Games
            </section>
            <section class="flex_cell flex_row" style="overflow-x: scroll;">
                {%for game in games%}
                    <section class="flex_column">
                        <section class="frame small_header">
                            {{game.name}}
                        </section>
                        <section class="frame flex_cell">
                            {{game.description}}
                        </section>
                        <section class="frame">
                            <a href="/tnf/game/{{game.id}}/">
                                <span
                                    class="icon_small icon_retrieve"
                                    title="Review matches of {{game.name}}"></span>
                                Goto game details
                            </a>
                            <br/>
                            <a href="/tnf/game/setup/match/{{game.id}}/">
                                <span
                                    class="icon_small icon_create"
                                    title="Setup a match of {{game.name}}"></span>
                                Setup a match of {{game.name}}
                            </a>
                            <br/>
                            <a href="/tnf/game/setup/tournament/{{game.id}}/">
                                <span
                                    class="icon_small icon_create"
                                    title="Setup a tournament of {{game.name}}"></span>
                                Setup a tournament of {{game.name}}
                            </a>
                        </section>
                    </section>
                {%endfor%}
            </section>
        </article>
        <section class="flex_cell flex_row">
            <article id="players_container" class="flex_cell flex_column">
                <section class="frame small_header">
                    Your Teams
                </section>
                <section class="flex_cell frame flex_column" style="overflow-y: scroll;">
                    {%if teams%}
                        {%for team in teams%}
                            <section class="flex_row frame" style="min-height: 20px;">
                                <section>
                                    {{team.game}}
                                </section>
                                <section class="flex_cell" style="text-align: center;">
                                    {{team.name}}
                                </section>
                                <section>
                                    <a href="/tnf/team/edit/{{team.uuid}}/">
                                        <span class="icon_small icon_update" title="Edit {{team.name}}"/>
                                    </a>
                                </section>
                            </section>
                        {%endfor%}
                    {%else%}
                        <section>
                            You don't have any Teams yet...
                        </section>
                    {%endif%}
                </section>
                <section>
                    <a href="/tnf/team/create/">
                        <span class="icon_small icon_create" title="Create Team"></span>
                        Add a New Team
                    </a>
                </section>
            </article>
            <article id="matches_container" class="flex_cell flex_column">
                <section class="frame small_header">
                    Your Matches
                </section>
                <section class="flex_cell frame flex_column" style="overflow-y: scroll;">
                    {%if matches%}
                        {%for match in matches%}
                            <section class="frame flex_row" style="min-height: 70px;">
                                <section>
                                    {{match.game}}
                                </section>
                                <section class="flex_cell" style="text-align: center;">
                                    {{match.team_1_name}} v{{match.team_file_1_version}}
                                    <a href="/tnf/team/edit/{{match.team_1_uuid}}/{{match.team_file_1_version}}/">
                                        <span class="icon_small icon_update" title="Edit {{match.team_1_name}}"/>
                                    </a>
                                    <br/>

                                    vs.<br/>

                                    {{match.team_2_name}} v{{match.team_file_2_version}}
                                    <a href="/tnf/team/edit/{{match.team_2_uuid}}/{{match.team_file_2_version}}/">
                                        <span class="icon_small icon_update" title="Edit {{match.team_2_name}}"/>
                                    </a>
                                </section>
                                <section>
                                    <a href="/tnf/match/{{match.uuid}}/">
                                        <span class="icon_small icon_play" title="Replay Match"/>
                                    </a>
                                </section>
                            </section>
                        {%endfor%}
                    {%else%}
                        <section>
                            You don't have any Matches yet...
                        </section>
                    {%endif%}
                </section>
                <section>
                    <span class="icon_small icon_create" title="Create Match"></span>
                    To play a match, goto the game page using the links above.
                </section>
            </article>
            <article id="tournaments_container" class="flex_cell flex_column">
                <section class="frame small_header">
                    Your Tournaments
                </section>
                <section class="flex_cell frame flex_column" style="overflow-y: scroll;">
                    {%if tournaments%}
                        {%for tournament in tournaments%}
                            <section class="flex_row frame" style="min-height: 20px;">
                                <section class="flex_cell" style="text-align: center;">
                                    {{tournament.game}}
                                </section>
                                <section>
                                    <a href="/tnf/tournament/{{tournament.uuid}}/">
                                        <span class="icon_small icon_play" title="Tournament Results"/>
                                    </a>
                                </section>
                            </section>
                        {%endfor%}
                    {%else%}
                        <section>
                            You don't have any Tournaments yet...
                        </section>
                    {%endif%}
                </section>
                <section>
                    <span class="icon_small icon_create" title="Create Tournament"></span>
                    To create a tournament, goto the game page using the links above.
                </section>
            </article>
        </section>
    </section>
{%endblock%}
